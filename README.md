# 광고 캠페인 프로젝트

## 개요

많은 광고 캠페인을 전개하면서 이들의 성과를 검증할 수 있어야 합니다. 

구글 GTM을 비롯해 광고를 통해 진입하는 사용자들을 추적할 수 있습니다. 

본 데이터는 임의의 회사 xyz사의 페이스북을 통한 세가지 광고 캠페인에 대한 정보를 포함하고 있습니다.

이번 프로젝트에선, 서로 다른 캠페인 간의 성과를 다각도로 검토하고, A/B테스트를 가정하여 유의미한 개선이 있는지 확인할 것입니다.

또한, 유저 경로에 대한 퍼널을 시각화를 수행하고자 합니다.



출처 : https://www.kaggle.com/datasets/loveall/clicks-conversion-tracking/data?select=KAG_conversion_data.csv

## 데이터 정보

- `ad_id`: 광고마다 고유 ID
- `xyz_campaign_id`: XYZ사의 각 광고 캠페인ID
- `fb_campaign_id`: 페이스북이 각 캠페인을 추적하는 방법과 관련된 ID
- `age`: 광고 대상의 나이
- `gender`: 광고 대상의 성별
- `interest`: 대상 관심사 카테고리를 지정하는 코드(관심사는 대상의 페이스북 공개 프로필에 기록된 것을 참조)
- `Impressions`: 광고가 노출된 횟수
- `Clicks`: 해당 광고의 클릭수
- `Spent`: 회사 xyz가 그 광고를 보여주기 위해 Facebook에 지불한 금액
- `Total_conversion`: 광고를 보고 제품에 대해 문의한 총 인원
- `Approved_conversion`: 광고를 보고 제품을 구매한 총 인원

## 데이터 검토 및 가정

`fb_campaign_id` : `xyz_campaign_id`, `age`, `gender`, `interest`가 일치하면 동일한 값을 가진다.

`ad_id` : 같은 `fb_campaign_id`에 대해 `Spent`값이 다르기 때문에 구분되는 것으로 보인다.

`interest` : 

1. 같은 `xyz_campaign_id`에 대해서 `age`, `gender`그룹별로 들쭉날쭉한 고유값을 가지고 있다. 
2. 데이터에선 interest 고유값이 40개 정도 관찰된다.
3. 페이스북 interest ads관련 문서를 보면 타겟팅 할 수 있는 관심사의 종류는 방대하며, 현재 데이터에는 인코딩 되어 어떤 내용인지 식별할 수 없다.
4. 또한 해당 데이터가 사전에 광고주가 타겟팅한 관심사인지, 아니면 해당 광고를 본 사람들 중 해당 관심사에 따라 집계된 것인지 알 수 없다. 즉, 광고주가 사전에 의도한 것인지 아닌지 본 데이터와 설명만으로는 판단하기 어렵다. (참고 : https://interestexplorer.io/facebook-interests-list/#tve-jump-17052c88781)
5. 따라서 광고는 페이스북 알고리즘에 따라, `age`, `gender`에 대해서만 고려하고 나머지는 랜덤하게 노출된 것으로 가정한다.

따라서, `ad_id`와 `fb_campaign_id` 그리고 `interest`는 분석 대상에서 제외한다.

`Spent` : 화폐 단위는 표시되지 않았다. 노출수, 클릭, 전환과의 상관관계를 고려해 볼 때, CPC계약으로 추정됨.



`Total_conversion` : 문의한 인원이므로 '회원가입'으로 가정 ➡️ 'Join'

`Approved_conversion` : 실질적으로 구매한 인원으로 가정 ➡️ 'Conversion'

## 비즈니스 모델

페이스북 광고 캠페인상 일반 소비자 대상 비즈니스일 것으로 고려할 수 있겠으나, 일반 소매판매업일지, 서비스 제공을 통한 구독 모델일지 등등 알 수 없음.

## A/B 테스트

본 데이터에서 `fb_campaign_id`가 Z인 경우 X와 Y에 비해 데이터가 크게 부족하다. 그리고 A/B테스트를 실시하기에 앞서 테스트를 통해 검증하고자 하는 가설과 테스트에 대한 가정은 다음과 같다.

**독립 변수** : 광고 캠페인

**종속 변수** : 전환율

(전환율 차이가 어느정도 났을 때 유의미하다고 판단할지는 비즈니스 모델에 따라 실질적인 효과의 크기 및 영향력을 고려해므로, 임의로 본 테스트에서는 Y캠페인의 전환율이 X캠페인의 전환율보다 3%이상 차이날 경우와 5%이상 차이날 경우 2가지로 실시한다.)

**가설** : 세가지 모두 실행해 본다. (목표 전환율을 모르기 때문)

1. X 캠페인과 Y 캠페인의 전환율 차이는 통계적으로 유의미할 것이다. ➡️ 이원(양쪽 꼬리) 가설 검정
2. Y 캠페인의 전환율이 X 캠페인의 전환율보다 3%이상 높을 것이다. ➡️ 일원(한쪽 꼬리) 가설 검정
3. Y 캠페인의 전환율이 X 캠페인의 전환율보다 5%이상 높을 것이다. ➡️ 일원(한쪽 꼬리) 가설 검정

**가정 및 시나리오** :

1. 해당 기업은 기존에 X 광고 캠페인을 진행하고 있었고, 신규 Y 광고 캠페인으로 마케팅 캠페인을 바꿀지 실험하고자 한다.
2. 때문에, X 광고 캠페인을 진행하는 와중에 Y 광고 캠페인을 동시에 함께 진행하였고, Y캠페인의 성과가 더 떨어졌을 경우를 대비해 Y 광고 캠페인의 크기를 3:1 정도로만 나누어 실시하였다. (X : Y = 3 : 1) 
3. 두 캠페인을 동시에 진행하면서 고객은 두 캠페인 중 하나만 볼 수 있도록 통제하였다. 그외 동시 진행하는 캠페인은 없으며 이 외 통제 변수는 잘 관리되었다고 가정한다.
4. Z캠페인은 X, Y캠페인과 진행 기간이 다르다고 가정, 때문에 A/B테스트 대상에서 제외한다.
5. 샘플 크기의 차이는 독립 표본 t-검정을 이용해 샘플 크기 차이 문제를 회피한다.

## 퍼널 시각화

추가적으로 ,

[광고 노출] ➡️ [유저 진입] ➡️ [유저 가입] ➡️ [유저 구매전환] 각 단계별 규모와 이탈율을 시각화 

## 프로젝트 한계점 및 개선 아이디어

- ARPPU와 같은 고객 수익 지표와 비즈니스 모델에 대한 정보가 있다면, A/B테스트를 통해 확인하고자 하는 목표수준을 명확히 해서 새로운 캠페인으로의 변경이 실제 기대 수익의 증대와 어떻게 연결되는지 명확히 관찰할 수 있을 것이다.

- 유저 진입 이후 가입과 구매 전환사이에 로그를 관찰할 수 있다면, 유저가 이탈하는 지점에 대해 확인하여 유저 경험을 개선하고 각 퍼널 단계별 이탈율을 개선할 수 있을 것이다.
